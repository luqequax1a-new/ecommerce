import{Ga as x,Ha as g,oa as N,qa as s,ra as y,sa as u}from"./chunk-P74FXGQP.js";import{c as f}from"./chunk-Z5C4ODF3.js";import{$ as p,ea as d,ja as n,l as o}from"./chunk-BJL3QR55.js";import{a as h,b as m}from"./chunk-4CLCTAJ7.js";var S=(()=>{let t=class t{constructor(e){this.payload=e}};t.type="[Notice] Get";let r=t;return r})(),v=(()=>{let t=class t{constructor(e){this.payload=e}};t.type="[Notice] Create";let r=t;return r})(),w=(()=>{let t=class t{constructor(e){this.id=e}};t.type="[Notice] Edit";let r=t;return r})(),j=(()=>{let t=class t{constructor(e){this.id=e}};t.type="[Notice] Resent";let r=t;return r})(),k=(()=>{let t=class t{constructor(e,l){this.payload=e,this.id=l}};t.type="[Notice] Update";let r=t;return r})();var I=(()=>{let t=class t{constructor(e){this.id=e}};t.type="[Notice] MarkAsRead";let r=t;return r})(),R=(()=>{let t=class t{constructor(e){this.id=e}};t.type="[Notice] Delete";let r=t;return r})();var b=(()=>{let t=class t{constructor(){this.http=n(f)}getNotice(e){return this.http.get(`${x.URL}/notice.json`,{params:e})}};t.\u0275fac=function(l){return new(l||t)},t.\u0275prov=d({token:t,factory:t.\u0275fac,providedIn:"root"});let r=t;return r})();var a,i=(a=class{constructor(){this.store=n(N),this.notificationService=n(g),this.noticeService=n(b)}static notice(t){return t.notice}static selectedNotice(t){return t.selectedNotice}static recentNotice(t){return t.recentNotice}getNotices(t,c){return this.noticeService.getNotice(c.payload).pipe(p({next:e=>{t.patchState({notice:{data:e.data,total:e?.total?e?.total:e.data?.length}})},error:e=>{throw new Error(e?.error?.message)}}))}create(t,c){}edit(t,{id:c}){return this.noticeService.getNotice().pipe(p({next:e=>{let l=t.getState(),E=e.data.find(A=>A.id==c);t.patchState(m(h({},l),{selectedNotice:E}))},error:e=>{throw new Error(e?.error?.message)}}))}recentNotice(t,{id:c}){return this.noticeService.getNotice().pipe(p({next:e=>{t.patchState({recentNotice:e.data.length?e.data[0]:null})},error:e=>{throw new Error(e?.error?.message)}}))}update(t,{payload:c,id:e}){}markAsRead(t,{id:c}){}delete(t,{id:c}){}},a.\u0275fac=function(c){return new(c||a)},a.\u0275prov=d({token:a,factory:a.\u0275fac}),a);o([s(S)],i.prototype,"getNotices",null);o([s(v)],i.prototype,"create",null);o([s(w)],i.prototype,"edit",null);o([s(j)],i.prototype,"recentNotice",null);o([s(k)],i.prototype,"update",null);o([s(I)],i.prototype,"markAsRead",null);o([s(R)],i.prototype,"delete",null);o([u()],i,"notice",null);o([u()],i,"selectedNotice",null);o([u()],i,"recentNotice",null);i=o([y({name:"notice",defaults:{notice:{data:[],total:0},selectedNotice:null,recentNotice:null}})],i);export{S as a,v as b,w as c,j as d,k as e,I as f,R as g,i as h};
