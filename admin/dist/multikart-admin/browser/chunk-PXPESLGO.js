import{a as q,b as z,e as G}from"./chunk-ET4GV3PH.js";import{a as L}from"./chunk-SNSHKWVC.js";import{a as Q}from"./chunk-SOFS53MN.js";import{a as B}from"./chunk-ZEHU2A57.js";import"./chunk-HVORON4Y.js";import"./chunk-TQWQFZO7.js";import"./chunk-ZBZRXBUQ.js";import{Ga as I,oa as C}from"./chunk-P74FXGQP.js";import{g as U}from"./chunk-MWLJ7KQD.js";import"./chunk-Z5C4ODF3.js";import{c as j,d as D}from"./chunk-NFASJCFR.js";import{Kc as T,Lc as w,Mb as V,Nb as k,Ob as p,Pb as l,Qb as s,Rb as $,Yc as F,Za as y,Zb as h,ab as a,ac as _,cc as m,ja as f,jc as b,kc as P,nb as M,nc as S,qa as c,qc as v,ra as d,rc as E,sc as g,sd as R,tb as x,zd as A}from"./chunk-BJL3QR55.js";import"./chunk-4CLCTAJ7.js";var N=["confirmationModal"],O=(i,o)=>o.id;function W(i,o){if(i&1){let n=h();l(0,"a",11),_("click",function(){c(n);let e=m().$implicit,r=m();return d(r.themeRoute(e.slug))}),v(1),T(2,"translate"),s()}i&2&&(a(),g(" ",w(2,1,"edit_theme")," "))}function J(i,o){if(i&1){let n=h();l(0,"a",6),_("click",function(){c(n);let e=m().$implicit,r=m();return d((e==null?null:e.id)!==r.selectedTheme&&r.ConfirmationModal().openModal("theme",e))}),v(1),s()}if(i&2){let n=m().$implicit,t=m();a(),g(" ",(n==null?null:n.id)===t.selectedTheme?"Activated":"Active"," ")}}function K(i,o){if(i&1){let n=h();l(0,"div")(1,"div",4)(2,"div",5)(3,"a",6),_("click",function(){let e=c(n).$implicit,r=m();return d((e==null?null:e.id)===r.selectedTheme&&r.themeRoute(e.slug))}),$(4,"img",7),s(),x(5,W,3,3,"a",8),s(),l(6,"div",9)(7,"h5"),v(8),s(),x(9,J,2,1,"a",10),s()()()}if(i&2){let n=o.$implicit,t=m();a(),S("active",(n==null?null:n.id)===t.selectedTheme),a(3),p("src",t.storageURL+n.image,y),a(),p("hasPermission","theme.edit"),a(3),E(n.name),a(),p("hasPermission","theme.edit")}}var he=(()=>{let o=class o{constructor(){this.store=f(C),this.router=f(U),this.storageURL=I.storageURL,this.themes$=f(C).select(G.themes),this.ConfirmationModal=F("confirmationModal")}ngOnInit(){this.store.dispatch(new q),this.themes$.subscribe(t=>{t?.data?.map(e=>{e.status===1&&(this.selectedTheme=e.id)})})}themeRoute(t){this.router.navigateByUrl(`/theme/${t}`)}activeTheme(t){this.selectedTheme=null,this.selectedTheme=t.data.id,this.store.dispatch(new z(t.data.id,1))}};o.\u0275fac=function(e){return new(e||o)},o.\u0275cmp=M({type:o,selectors:[["app-theme"]],viewQuery:function(e,r){e&1&&b(r.ConfirmationModal,N,5),e&2&&P()},decls:7,vars:4,consts:[["confirmationModal",""],[3,"gridClass","title"],[1,"row","row-cols-xl-3","row-cols-lg-2","row-cols-md-3","row-cols-sm-2","row-cols-1","g-lg-5","g-4","layout-selection-sec","ratio_square"],[3,"confirmed"],[1,"theme-card"],[1,"library-box"],["href","javascript:void(0)",3,"click"],["alt","home-pages",1,"img-fluid","bg-img","bg_size_content",3,"src"],["href","javascript:void(0)","class","details-box",3,"click",4,"hasPermission"],[1,"content-sec"],["href","javascript:void(0)",3,"click",4,"hasPermission"],["href","javascript:void(0)",1,"details-box",3,"click"]],template:function(e,r){if(e&1){let u=h();l(0,"app-page-wrapper",1)(1,"div",2),V(2,K,10,6,"div",null,O),T(4,"async"),s()(),l(5,"app-confirmation-modal",3,0),_("confirmed",function(H){return c(u),d(r.activeTheme(H))}),s()}if(e&2){let u;p("gridClass","col-sm-12")("title","themes"),a(2),k((u=w(4,2,r.themes$))==null?null:u.data)}},dependencies:[A,D,Q,B,L,R,j],encapsulation:2});let i=o;return i})();export{he as Theme};
