import './polyfills.server.mjs';
import{a as I}from"./chunk-22TZ6IH2.mjs";import"./chunk-HSYTOS5X.mjs";import"./chunk-65CLJ2AQ.mjs";import{a as E}from"./chunk-CQEXWATL.mjs";import{a as $,e as x,f as L,g as R}from"./chunk-OJD5AEWO.mjs";import{d as D}from"./chunk-6TRN37HW.mjs";import{a as M}from"./chunk-725TIIX2.mjs";import"./chunk-UGRILRVZ.mjs";import"./chunk-HF4BIA72.mjs";import{a as F}from"./chunk-RXOQFJCA.mjs";import"./chunk-MD4PGILL.mjs";import"./chunk-36I6ZS5W.mjs";import"./chunk-7WHNMFBW.mjs";import{oa as p}from"./chunk-ZL7RZNVT.mjs";import{h as y,i as A,m as B}from"./chunk-JTNA5OIK.mjs";import"./chunk-D5OUPU4G.mjs";import{c as k,d as S}from"./chunk-XXCMIAG3.mjs";import{Ka as f,Kc as w,Qc as T,Rc as v,Ub as l,Vb as d,Wb as c,Xb as u,Yd as P,eb as r,gc as h,ja as o,rb as g,wc as _,xb as b,yc as C}from"./chunk-GYKPLZNJ.mjs";import"./chunk-S6KH3LOX.mjs";var O=()=>["/blog/create"];function U(i,t){i&1&&(d(0,"div",3)(1,"a",4),u(2,"i",5),_(3),T(4,"translate"),c()()),i&2&&(r(),l("routerLink",w(4,O)),r(2),C(" ",v(4,2,"add_blog")," "))}var te=(()=>{let t=class t{constructor(){this.store=o(p),this.router=o(y),this.platformId=o(f),this.blog$=o(p).select(E.blog),this.setting$=o(p).select(D.setting),this.tableConfig={columns:[{title:"image",dataField:"blog_thumbnail",class:"tbl-image",type:"image",placeholder:"assets/images/product.png"},{title:"title",dataField:"title",sortable:!0,sort_direction:"desc"},{title:"created_at",dataField:"created_at",type:"date",sortable:!0,sort_direction:"desc"},{title:"status",dataField:"status",type:"switch"}],rowActions:[{label:"Edit",actionToPerform:"edit",icon:"ri-pencil-line",permission:"blog.edit"},{label:"Delete",actionToPerform:"delete",icon:"ri-delete-bin-line",permission:"blog.destroy"},{label:"View",actionToPerform:"view",icon:"ri-eye-line"}],data:[],total:0},this.setting$.subscribe(e=>{e&&e.general&&(this.url=e.general.site_url)})}ngOnInit(){this.blog$.subscribe(e=>{this.tableConfig.data=e?e?.data:[],this.tableConfig.total=e?e?.total:0})}onTableChange(e){this.store.dispatch(new $(e)).subscribe()}onActionClicked(e){e.actionToPerform=="edit"?this.edit(e.data):e.actionToPerform=="status"?this.status(e.data):e.actionToPerform=="delete"?this.delete(e.data):e.actionToPerform=="deleteAll"?this.deleteAll(e.data):e.actionToPerform=="view"&&this.view(e.data)}edit(e){this.router.navigateByUrl(`/blog/edit/${e.id}`)}status(e){this.store.dispatch(new x(e.id,e.status))}delete(e){this.store.dispatch(new L(e.id))}deleteAll(e){this.store.dispatch(new R(e))}view(e){P(this.platformId)&&window.open(this.url+"/blog/"+e.slug,"_blank")}};t.\u0275fac=function(s){return new(s||t)},t.\u0275cmp=g({type:t,selectors:[["app-blog"]],decls:3,vars:5,consts:[[3,"gridClass","title"],["button","",4,"hasPermission"],[3,"tableChanged","rowClicked","action","tableConfig","hasCheckbox"],["button",""],[1,"align-items-center","btn","btn-theme","d-flex",3,"routerLink"],[1,"ri-add-line"]],template:function(s,n){s&1&&(d(0,"app-page-wrapper",0),b(1,U,5,5,"div",1),d(2,"app-table",2),h("tableChanged",function(a){return n.onTableChange(a)})("rowClicked",function(a){return n.edit(a)})("action",function(a){return n.onActionClicked(a)}),c()()),s&2&&(l("gridClass","col-sm-12")("title","blog"),r(),l("hasPermission","blog.create"),r(),l("tableConfig",n.tableConfig)("hasCheckbox",!0))},dependencies:[S,B,A,M,F,I,k],encapsulation:2});let i=t;return i})();export{te as Blog};
