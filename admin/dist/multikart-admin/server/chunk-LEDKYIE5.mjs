import './polyfills.server.mjs';
import{a as W}from"./chunk-YJ3GIIAW.mjs";import{d as L}from"./chunk-IF45RQ4Z.mjs";import{d as O}from"./chunk-6TRN37HW.mjs";import{a as Q}from"./chunk-MD4PGILL.mjs";import{A as $,B as z,C as H,d as I,e as y,g as V,h as D,k as b,m as G,oa as x,q as j,t as R}from"./chunk-ZL7RZNVT.mjs";import{h as M}from"./chunk-JTNA5OIK.mjs";import"./chunk-D5OUPU4G.mjs";import{c as J,d as K}from"./chunk-XXCMIAG3.mjs";import{Gc as S,Hd as q,Md as A,Nb as h,Pb as v,Qc as n,Rc as a,Td as F,Ub as l,Vb as i,Wb as r,Xb as c,bb as E,dc as T,eb as e,gc as g,ic as P,ja as f,qa as B,ra as k,rb as N,vc as U,wc as d,xc as w,yc as C}from"./chunk-GYKPLZNJ.mjs";import"./chunk-S6KH3LOX.mjs";function X(t,s){t&1&&(i(0,"div",13),d(1),n(2,"translate"),r()),t&2&&(e(),w(a(2,1,"new_password_is_required")))}function Y(t,s){if(t&1){let _=T();i(0,"div")(1,"div",17),g("click",function(){B(_);let m=P();return k(m.showPassword())}),c(2,"span",18),r()()}if(t&2){let _=P();e(2),l("ngClass",_.show?"Hide":"show")}}function Z(t,s){t&1&&(i(0,"div",13),d(1),n(2,"translate"),r()),t&2&&(e(),C(" ",a(2,1,"confirm_password_is_required")," "))}var he=(()=>{let s=class s{constructor(){this.store=f(x),this.formBuilder=f($),this.router=f(M),this.setting$=f(x).select(O.setting),this.show=!1,this.email=this.store.selectSnapshot(p=>p.auth.email),this.token=this.store.selectSnapshot(p=>p.auth.token),!this.email&&!this.token&&this.router.navigateByUrl("/auth/login"),this.form=this.formBuilder.group({newPassword:new b("",[y.required]),confirmPassword:new b("",[y.required])})}showPassword(){this.show=!this.show}submit(){this.form.markAllAsTouched(),this.form.valid&&this.store.dispatch(new L({email:this.email,token:Number(this.token),password:this.form.value.newPassword,password_confirmation:this.form.value.confirmPassword})).subscribe({complete:()=>{this.router.navigateByUrl("/auth/login")}})}};s.\u0275fac=function(m){return new(m||s)},s.\u0275cmp=N({type:s,selectors:[["app-update-password"]],decls:35,vars:32,consts:[[1,"log-in-section","section-b-space"],[1,"container","w-100"],[1,"row"],[1,"col-xl-5","col-lg-6","m-auto"],[1,"log-in-box"],[1,"log-in-title"],["alt","",1,"img-fluid","logo-img",3,"src"],[1,"input-box"],[1,"row","g-4",3,"ngSubmit","formGroup"],[1,"col-12"],[1,"form-floating","theme-form-floating","log-in-form"],["name","newPassword","formControlName","newPassword","id","email",1,"form-control",3,"type","placeholder"],["for","email"],[1,"invalid-feedback"],["id","password","formControlName","confirmPassword",1,"form-control",3,"type","placeholder"],["for","password"],[3,"id"],[1,"show-hide",3,"click"],[1,"show",3,"ngClass"]],template:function(m,o){if(m&1&&(i(0,"section",0)(1,"div",1)(2,"div",2)(3,"div",3),c(4,"app-alert"),i(5,"div",4)(6,"div",5),c(7,"img",6),n(8,"async"),i(9,"h4"),d(10),n(11,"translate"),r()(),i(12,"div",7)(13,"form",8),g("ngSubmit",function(){return o.submit()}),i(14,"div",9)(15,"div",10),c(16,"input",11),n(17,"translate"),i(18,"label",12),d(19),n(20,"translate"),r(),h(21,X,3,3,"div",13),r()(),i(22,"div",9)(23,"div",10),c(24,"input",14),n(25,"translate"),i(26,"label",15),d(27),n(28,"translate"),r(),h(29,Y,3,1,"div"),h(30,Z,3,3,"div",13),r()(),i(31,"div",9)(32,"app-button",16),d(33),n(34,"translate"),r()()()()()()()()()),m&2){let u;e(7),l("src",(u=a(8,18,o.setting$))==null||u.general==null||u.general.dark_logo_image==null?null:u.general.dark_logo_image.original_url,E),e(3),w(a(11,20,"please_choose_your_password")),e(3),l("formGroup",o.form),e(3),l("placeholder",S(a(17,22,"new_password")))("type","password"),e(3),w(a(20,24,"new_password")),e(2),v(o.form.controls.newPassword.touched&&(o.form.controls.newPassword.errors!=null&&o.form.controls.newPassword.errors.required)?21:-1),e(3),l("placeholder",S(a(25,26,"password")))("type",o.show?"text":"password"),e(3),w(a(28,28,"confirm_password")),e(2),v(o.form.controls.confirmPassword.errors!=null&&o.form.controls.confirmPassword.errors.required?-1:29),e(),v(o.form.controls.confirmPassword.touched&&(o.form.controls.confirmPassword.errors!=null&&o.form.controls.confirmPassword.errors.required)?30:-1),e(2),U("btn btn-theme w-100 justify-content-center"),l("id","pass_btn"),e(),C(" ",a(34,30,"submit")," ")}},dependencies:[K,z,G,I,V,D,H,j,R,F,q,W,Q,J,A],encapsulation:2});let t=s;return t})();export{he as UpdatePassword};
