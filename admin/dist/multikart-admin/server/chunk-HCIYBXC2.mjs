import './polyfills.server.mjs';
import{b as L,c as Q,d as W,h as X}from"./chunk-5CSNNTCA.mjs";import{a as K}from"./chunk-VGMVI7IM.mjs";import{a as J}from"./chunk-MD4PGILL.mjs";import{A as U,B as j,C as O,c as N,d as A,e as x,g as E,h as V,k as h,m as k,n as D,oa as H,q as G,t as I,w as $,x as R}from"./chunk-ZL7RZNVT.mjs";import{e as q,h as M}from"./chunk-JTNA5OIK.mjs";import{c as P,d as z}from"./chunk-XXCMIAG3.mjs";import{Gc as b,Nb as v,Pb as y,Qc as l,Rc as s,Ub as n,Vb as o,Wb as m,Xb as c,Y as S,Z as T,cd as B,eb as t,g as _,gc as F,ja as p,n as g,rb as w,t as C,wc as d,xc as f}from"./chunk-GYKPLZNJ.mjs";function Y(i,a){i&1&&(o(0,"div",3),d(1),l(2,"translate"),m()),i&2&&(t(),f(s(2,1,"name_is_required")))}function Z(i,a){i&1&&(o(0,"div",3),d(1),l(2,"translate"),m()),i&2&&(t(),f(s(2,1,"rate_is_required")))}var he=(()=>{let a=class a{constructor(){this.store=p(H),this.route=p(q),this.router=p(M),this.formBuilder=p(U),this.type=B(void 0),this.destroy$=new _,this.form=this.formBuilder.group({name:new h("",[x.required]),rate:new h("",[x.required]),status:new h(1)})}ngOnInit(){this.route.params.pipe(S(e=>e.id?this.store.dispatch(new Q(e.id)).pipe(C(()=>this.store.select(X.selectedTax))):g()),T(this.destroy$)).subscribe(e=>{this.id=e?.id,this.form.patchValue({name:e?.name,rate:e?.rate,status:e?.status})})}submit(){this.form.markAllAsTouched();let e=new L(this.form.value);this.type()=="edit"&&this.id&&(e=new W(this.form.value,this.id)),this.form.valid&&this.store.dispatch(e).subscribe({complete:()=>{this.router.navigateByUrl("/tax")}})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}};a.\u0275fac=function(u){return new(u||a)},a.\u0275cmp=w({type:a,selectors:[["app-form-tax"]],inputs:{type:[1,"type"]},decls:21,vars:26,consts:[[1,"theme-form","theme-form-2","mega-form",3,"ngSubmit","formGroup"],[3,"label","for","required"],["type","text","name","name","formControlName","name",1,"form-control",3,"placeholder"],[1,"invalid-feedback"],[1,"input-group"],["type","number","min","0","max","100","oninput","if (value > 100) value = 100; if (value < 0) value = 0;","name","rate","formControlName","rate",1,"form-control",3,"placeholder"],[1,"input-group-text"],[1,"form-check","form-switch","ps-0"],[1,"switch"],["type","checkbox","id","status","formControlName","status"],[1,"switch-state"],[3,"id"]],template:function(u,r){u&1&&(o(0,"form",0),F("ngSubmit",function(){return r.submit()}),o(1,"app-form-fields",1),l(2,"translate"),c(3,"input",2),l(4,"translate"),v(5,Y,3,3,"div",3),m(),o(6,"app-form-fields",1)(7,"div",4),c(8,"input",5),l(9,"translate"),o(10,"span",6),d(11,"%"),m()(),v(12,Z,3,3,"div",3),m(),o(13,"app-form-fields",1)(14,"div",7)(15,"label",8),c(16,"input",9)(17,"span",10),m()()(),o(18,"app-button",11),d(19),l(20,"translate"),m()()),u&2&&(n("formGroup",r.form),t(),n("label",s(2,18,"name"))("for","name")("required",!0),t(2),n("placeholder",b(s(4,20,"enter_text_name"))),t(2),y(r.form.controls.name.touched&&(r.form.controls.name.errors!=null&&r.form.controls.name.errors.required)?5:-1),t(),n("label","rate")("for","rate")("required",!0),t(2),n("placeholder",b(s(9,22,"enter_rate"))),t(4),y(r.form.controls.rate.touched&&(r.form.controls.rate.errors!=null&&r.form.controls.rate.errors.required)?12:-1),t(),n("label","status")("for","status")("required",!1),t(5),n("id","tax_btn"),t(),f(s(20,24,r.type()==="create"?"save_tax":"update_tax")))},dependencies:[z,j,k,A,D,N,E,V,R,$,O,G,I,K,J,P],encapsulation:2});let i=a;return i})();export{he as a};
