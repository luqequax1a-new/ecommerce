import './polyfills.server.mjs';
import{a as g,b as C}from"./chunk-PSLCC4WY.mjs";import{a as b}from"./chunk-22TZ6IH2.mjs";import"./chunk-HSYTOS5X.mjs";import"./chunk-65CLJ2AQ.mjs";import"./chunk-6TRN37HW.mjs";import"./chunk-UGRILRVZ.mjs";import"./chunk-HF4BIA72.mjs";import{a as h}from"./chunk-RXOQFJCA.mjs";import"./chunk-MD4PGILL.mjs";import"./chunk-36I6ZS5W.mjs";import"./chunk-7WHNMFBW.mjs";import{oa as n}from"./chunk-ZL7RZNVT.mjs";import{h as f}from"./chunk-JTNA5OIK.mjs";import"./chunk-D5OUPU4G.mjs";import"./chunk-XXCMIAG3.mjs";import{Ub as r,Vb as d,Wb as p,eb as l,gc as c,ja as o,rb as m}from"./chunk-GYKPLZNJ.mjs";import"./chunk-S6KH3LOX.mjs";var k=(()=>{let i=class i{constructor(){this.store=o(n),this.router=o(f),this.commission$=o(n).select(C.commission),this.tableConfig={columns:[{title:"order_id",dataField:"order_id"},{title:"store_name",dataField:"store_name"},{title:"admin_commission",dataField:"admin_commission",type:"price"},{title:"vendor_commission",dataField:"vendor_commission",type:"price"},{title:"created_at",dataField:"created_at",type:"date"}],data:[],total:0}}ngOnInit(){this.commission$.subscribe(t=>{let a=t?.data?.filter(e=>(e.store_name=`<span class="text-capitalize">${e.store.store_name}</span>`,e.order_id=`<span class="fw-bolder">#${e.order.order_number}</span>`,e));this.tableConfig.data=t?a:[],this.tableConfig.total=t?t?.total:0})}onTableChange(t){this.store.dispatch(new g(t))}};i.\u0275fac=function(a){return new(a||i)},i.\u0275cmp=m({type:i,selectors:[["app-commission"]],decls:2,vars:5,consts:[[3,"gridClass","title"],[3,"tableChanged","tableConfig","hasCheckbox","dateRange"]],template:function(a,e){a&1&&(d(0,"app-page-wrapper",0)(1,"app-table",1),c("tableChanged",function(_){return e.onTableChange(_)}),p()()),a&2&&(r("gridClass","col-sm-12")("title","commission_history"),l(),r("tableConfig",e.tableConfig)("hasCheckbox",!1)("dateRange",!0))},dependencies:[h,b],encapsulation:2});let s=i;return s})();export{k as Commission};
