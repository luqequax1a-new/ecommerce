import './polyfills.server.mjs';
import{a as y,e as C,f as g,g as k,h as T}from"./chunk-IPZ4FMIN.mjs";import{a as b}from"./chunk-22TZ6IH2.mjs";import"./chunk-HSYTOS5X.mjs";import"./chunk-65CLJ2AQ.mjs";import"./chunk-6TRN37HW.mjs";import"./chunk-UGRILRVZ.mjs";import"./chunk-HF4BIA72.mjs";import{a as _}from"./chunk-RXOQFJCA.mjs";import"./chunk-MD4PGILL.mjs";import"./chunk-36I6ZS5W.mjs";import"./chunk-7WHNMFBW.mjs";import{oa as l}from"./chunk-ZL7RZNVT.mjs";import{h as u}from"./chunk-JTNA5OIK.mjs";import"./chunk-D5OUPU4G.mjs";import"./chunk-XXCMIAG3.mjs";import{Ub as r,Vb as m,Wb as h,eb as c,gc as f,ja as o,rb as p}from"./chunk-GYKPLZNJ.mjs";import"./chunk-S6KH3LOX.mjs";var $=(()=>{let t=class t{constructor(){this.store=o(l),this.router=o(u),this.licenseKey$=o(l).select(T.licenseKey),this.tableConfig={columns:[{title:"product",dataField:"item_name"},{title:"license_key",dataField:"license_key",sortable:!0,sort_direction:"desc"},{title:"purchased_by",dataField:"purchased_by.name"},{title:"created_at",dataField:"created_at",type:"date",sortable:!0,sort_direction:"desc"}],data:[],total:0}}ngOnInit(){this.licenseKey$.subscribe(e=>{this.tableConfig.data=e?e?.data:[],this.tableConfig.total=e?e?.total:0})}onTableChange(e){this.store.dispatch(new y(e))}onActionClicked(e){e.actionToPerform=="edit"?this.edit(e.data):e.actionToPerform=="status"?this.status(e.data):e.actionToPerform=="delete"?this.delete(e.data):e.actionToPerform=="deleteAll"&&this.deleteAll(e.data)}edit(e){this.router.navigateByUrl(`/license-key/edit/${e.id}`)}status(e){this.store.dispatch(new C(e.id,e.status))}delete(e){this.store.dispatch(new g(e.id))}deleteAll(e){this.store.dispatch(new k(e))}};t.\u0275fac=function(a){return new(a||t)},t.\u0275cmp=p({type:t,selectors:[["app-license-key"]],decls:2,vars:4,consts:[[3,"gridClass","title"],[3,"tableChanged","rowClicked","action","tableConfig","hasCheckbox"]],template:function(a,s){a&1&&(m(0,"app-page-wrapper",0)(1,"app-table",1),f("tableChanged",function(i){return s.onTableChange(i)})("rowClicked",function(i){return s.edit(i)})("action",function(i){return s.onActionClicked(i)}),h()()),a&2&&(r("gridClass","col-sm-12")("title","license_key"),c(),r("tableConfig",s.tableConfig)("hasCheckbox",!0))},dependencies:[_,b],encapsulation:2});let n=t;return n})();export{$ as LicenseKey};
