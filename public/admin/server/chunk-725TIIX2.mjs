import './polyfills.server.mjs';
import{f}from"./chunk-7WHNMFBW.mjs";import{oa as p}from"./chunk-ZL7RZNVT.mjs";import{Da as n,cd as h,gb as a,ja as t,mb as o,tb as m}from"./chunk-GYKPLZNJ.mjs";var C=(()=>{let i=class i{constructor(){this.templateRef=t(a),this.viewContainerRef=t(o),this.permission=h(void 0,{alias:"hasPermission"}),this.permissions$=t(p).select(f.permissions),this.permissions=[],this.isViewCreated=!1}ngOnInit(){this.permissions$.subscribe(e=>{this.permissions=e?.map(s=>s?.name),this.checkPermissions()})}checkPermissions(){let e=this.permission();!Array.isArray(e)&&this.permissions?.includes(e)||!e?this.isViewCreated||(this.viewContainerRef.createEmbeddedView(this.templateRef),this.isViewCreated=!0):Array.isArray(e)&&e?.length&&e.every(s=>this.permissions?.includes(s))?this.isViewCreated||(this.viewContainerRef.createEmbeddedView(this.templateRef),this.isViewCreated=!0):this.isViewCreated&&(this.viewContainerRef.clear(),this.isViewCreated=!1)}ngOnChanges(e){e.permission&&!e.permission.firstChange&&this.checkPermissions()}};i.\u0275fac=function(s){return new(s||i)},i.\u0275dir=m({type:i,selectors:[["","hasPermission",""]],inputs:{permission:[1,"hasPermission","permission"]},features:[n]});let r=i;return r})();export{C as a};
