import './polyfills.server.mjs';
import{a as g}from"./chunk-22TZ6IH2.mjs";import"./chunk-HSYTOS5X.mjs";import"./chunk-65CLJ2AQ.mjs";import{a as d,b,c as _,d as w}from"./chunk-LQCO4ZTA.mjs";import"./chunk-6TRN37HW.mjs";import"./chunk-UGRILRVZ.mjs";import"./chunk-HF4BIA72.mjs";import{a as f}from"./chunk-RXOQFJCA.mjs";import"./chunk-MD4PGILL.mjs";import"./chunk-36I6ZS5W.mjs";import"./chunk-7WHNMFBW.mjs";import{oa as s}from"./chunk-ZL7RZNVT.mjs";import"./chunk-JTNA5OIK.mjs";import"./chunk-D5OUPU4G.mjs";import"./chunk-XXCMIAG3.mjs";import{Ub as l,Vb as m,Wb as u,eb as c,gc as h,ja as n,rb as p}from"./chunk-GYKPLZNJ.mjs";import"./chunk-S6KH3LOX.mjs";var P=(()=>{let i=class i{constructor(){this.store=n(s),this.review$=n(s).select(w.review),this.tableConfig={columns:[{title:"image",dataField:"product_review_image",class:"tbl-image",type:"image",placeholder:"assets/images/product.png"},{title:"consumer_name",dataField:"consumer_name"},{title:"product_name",dataField:"product_name"},{title:"rating",dataField:"rating",type:"rating",sortable:!0,sort_direction:"desc"},{title:"created_at",dataField:"created_at",type:"date",sortable:!0,sort_direction:"desc"}],rowActions:[{label:"Delete",actionToPerform:"delete",icon:"ri-delete-bin-line",permission:"review.destroy"}],data:[],total:0},this.store.dispatch(new d)}ngOnInit(){this.review$.subscribe(e=>{let a=e?.data?.filter(t=>(t.product_review_image=t?.product?.product_thumbnail,t.consumer_name=t?.consumer?.name,t.product_name=t?.product?.name,t));this.tableConfig.data=e?a:[],this.tableConfig.total=e?e.total:0})}onTableChange(e){this.store.dispatch(new d(e))}onActionClicked(e){e.actionToPerform=="delete"?this.delete(e.data):e.actionToPerform=="deleteAll"&&this.deleteAll(e.data)}delete(e){this.store.dispatch(new b(e.id))}deleteAll(e){this.store.dispatch(new _(e))}};i.\u0275fac=function(a){return new(a||i)},i.\u0275cmp=p({type:i,selectors:[["app-review"]],decls:2,vars:4,consts:[[3,"gridClass","title"],[3,"tableChanged","action","tableConfig","hasCheckbox"]],template:function(a,t){a&1&&(m(0,"app-page-wrapper",0)(1,"app-table",1),h("tableChanged",function(r){return t.onTableChange(r)})("action",function(r){return t.onActionClicked(r)}),u()()),a&2&&(l("gridClass","col-sm-12")("title","reviews"),c(),l("tableConfig",t.tableConfig)("hasCheckbox",!0))},dependencies:[f,g],encapsulation:2});let o=i;return o})();export{P as Review};
