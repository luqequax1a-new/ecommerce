import './polyfills.server.mjs';
import{a as x,e as M,f as E,g as L,h as R}from"./chunk-XCV4EFHI.mjs";import{a as F}from"./chunk-22TZ6IH2.mjs";import"./chunk-HSYTOS5X.mjs";import"./chunk-65CLJ2AQ.mjs";import"./chunk-6TRN37HW.mjs";import{a as S}from"./chunk-725TIIX2.mjs";import"./chunk-UGRILRVZ.mjs";import"./chunk-HF4BIA72.mjs";import{a as D}from"./chunk-RXOQFJCA.mjs";import"./chunk-MD4PGILL.mjs";import"./chunk-36I6ZS5W.mjs";import"./chunk-7WHNMFBW.mjs";import{oa as c}from"./chunk-ZL7RZNVT.mjs";import{h as w,i as y,m as A}from"./chunk-JTNA5OIK.mjs";import"./chunk-D5OUPU4G.mjs";import{c as P,d as k}from"./chunk-XXCMIAG3.mjs";import{Kc as g,Qc as T,Rc as v,Ub as a,Vb as d,Wb as p,Xb as h,eb as n,gc as b,ja as l,rb as m,wc as C,xb as f,yc as _}from"./chunk-GYKPLZNJ.mjs";import"./chunk-S6KH3LOX.mjs";var $=()=>["/coupon/create"];function B(i,t){i&1&&(d(0,"div",3)(1,"a",4),h(2,"i",5),C(3),T(4,"translate"),p()()),i&2&&(n(),a("routerLink",g(4,$)),n(2),_(" ",v(4,2,"add_coupon")," "))}var V=(()=>{let t=class t{constructor(){this.store=l(c),this.router=l(w),this.coupon$=l(c).select(R.coupon),this.tableConfig={columns:[{title:"title",dataField:"title",sortable:!0,sort_direction:"desc"},{title:"code",dataField:"code",sortable:!0,sort_direction:"desc"},{title:"created_at",dataField:"created_at",type:"date",sortable:!0,sort_direction:"desc"},{title:"status",dataField:"status",type:"switch"}],rowActions:[{label:"Edit",actionToPerform:"edit",icon:"ri-pencil-line",permission:"coupon.edit"},{label:"Delete",actionToPerform:"delete",icon:"ri-delete-bin-line",permission:"coupon.destroy"}],data:[],total:0}}ngOnInit(){this.coupon$.subscribe(e=>{this.tableConfig.data=e?e?.data:[],this.tableConfig.total=e?e?.total:0})}onTableChange(e){this.store.dispatch(new x(e)).subscribe()}onActionClicked(e){e.actionToPerform=="edit"?this.edit(e.data):e.actionToPerform=="status"?this.status(e.data):e.actionToPerform=="delete"?this.delete(e.data):e.actionToPerform=="deleteAll"&&this.deleteAll(e.data)}edit(e){this.router.navigateByUrl(`/coupon/edit/${e.id}`)}status(e){this.store.dispatch(new M(e.id,e.status))}delete(e){this.store.dispatch(new E(e.id))}deleteAll(e){this.store.dispatch(new L(e))}};t.\u0275fac=function(r){return new(r||t)},t.\u0275cmp=m({type:t,selectors:[["app-coupon"]],decls:3,vars:5,consts:[[3,"gridClass","title"],["button","",4,"hasPermission"],[3,"tableChanged","rowClicked","action","tableConfig","hasCheckbox"],["button",""],[1,"align-items-center","btn","btn-theme","d-flex",3,"routerLink"],[1,"ri-add-line"]],template:function(r,s){r&1&&(d(0,"app-page-wrapper",0),f(1,B,5,5,"div",1),d(2,"app-table",2),b("tableChanged",function(o){return s.onTableChange(o)})("rowClicked",function(o){return s.edit(o)})("action",function(o){return s.onActionClicked(o)}),p()()),r&2&&(a("gridClass","col-sm-12")("title","coupons"),n(),a("hasPermission","coupon.create"),n(),a("tableConfig",s.tableConfig)("hasCheckbox",!0))},dependencies:[k,A,y,S,D,F,P],encapsulation:2});let i=t;return i})();export{V as Coupon};
