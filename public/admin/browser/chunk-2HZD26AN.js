import{a as A,b as v,c as x,d as b,e as w,f as j,g as I,h as k,i as E,j as D,k as U,l as C}from"./chunk-VO736VT2.js";import{Ga as h,Ha as S,oa as f,qa as d,ra as y,sa as l}from"./chunk-P74FXGQP.js";import{c as P}from"./chunk-Z5C4ODF3.js";import{$ as _,ea as s,ja as p,l as r}from"./chunk-BJL3QR55.js";import{a as n,b as g}from"./chunk-4CLCTAJ7.js";var F=(()=>{let o=class o{constructor(){this.http=p(P)}getProducts(e){return this.http.get(`${h.URL}/product.json`,{params:e})}};o.\u0275fac=function(i){return new(i||o)},o.\u0275prov=s({token:o,factory:o.\u0275fac,providedIn:"root"});let m=o;return m})();var c,a=(c=class{constructor(){this.store=p(f),this.notificationService=p(S),this.productService=p(F)}static product(o){return o.product}static products(o){return o.product.data.filter(t=>t.id!==o.selectedProduct?.id).map(t=>({label:t?.name,value:t?.id,data:{type:t.type,name:t.name,slug:t.slug,stock_status:t.stock_status,image:t.product_thumbnail?t.product_thumbnail.original_url:"assets/images/product.png"}}))}static digitalProducts(o){let t=[];return o.product.data.filter(e=>e.id!==o.selectedProduct?.id&&e.product_type=="digital").map(e=>{t.push({label:e?.name,value:e?.id,data:{name:e.name,product_id:e?.id,variation_id:null,image:e.product_thumbnail?e.product_thumbnail.original_url:"assets/images/product.png"}}),e?.variations?.length&&e.variations.map(i=>{t.push({label:i?.name,value:i?.id,data:{name:i.name,product_id:e?.id,variation_id:i?.id,image:i.variation_image?i.variation_image.original_url:"assets/images/product.png"}})})}),t}static selectedProduct(o){return o.selectedProduct}static topSellingProducts(o){return o.topSellingProducts}getProducts(o,t){return this.productService.getProducts(t.payload).pipe(_({next:e=>{let i;if(t.payload.page&&t.payload.paginate?i=e.data.map(u=>n({},u)).slice((t.payload.page-1)*t.payload.paginate,(t.payload.page-1)*t.payload.paginate+t.payload.paginate):i=e.data,t?.payload.top_selling){let u=o.getState();o.patchState(g(n({},u),{topSellingProducts:i}))}else o.patchState({product:{data:i,total:e?.total?e?.total:i?.length}})},error:e=>{throw new Error(e?.error?.message)}}))}create(o,t){}edit(o,{id:t}){return this.productService.getProducts().pipe(_({next:e=>{let i=o.getState(),u=e.data.find(R=>R.id==t);o.patchState(g(n({},i),{selectedProduct:u}))},error:e=>{throw new Error(e?.error?.message)}}))}update(o,{payload:t,id:e}){}updateStatus(o,{id:t,status:e}){}approveStatus(o,{id:t,status:e}){}delete(o,{id:t}){}deleteAll(o,{ids:t}){}replicateProduct(o,{ids:t}){}import(o,t){}export(o,t){}download(o,t){}},c.\u0275fac=function(t){return new(t||c)},c.\u0275prov=s({token:c,factory:c.\u0275fac}),c);r([d(A)],a.prototype,"getProducts",null);r([d(v)],a.prototype,"create",null);r([d(x)],a.prototype,"edit",null);r([d(b)],a.prototype,"update",null);r([d(w)],a.prototype,"updateStatus",null);r([d(j)],a.prototype,"approveStatus",null);r([d(I)],a.prototype,"delete",null);r([d(k)],a.prototype,"deleteAll",null);r([d(E)],a.prototype,"replicateProduct",null);r([d(D)],a.prototype,"import",null);r([d(U)],a.prototype,"export",null);r([d(C)],a.prototype,"download",null);r([l()],a,"product",null);r([l()],a,"products",null);r([l()],a,"digitalProducts",null);r([l()],a,"selectedProduct",null);r([l()],a,"topSellingProducts",null);a=r([y({name:"product",defaults:{product:{data:[],total:0},selectedProduct:null,topSellingProducts:[]}})],a);export{a};
