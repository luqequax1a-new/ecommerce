import{a as g,b as C}from"./chunk-3W5ENZHE.js";import{a as b}from"./chunk-MJTWR3JG.js";import"./chunk-SNSHKWVC.js";import"./chunk-DC4FYJ6D.js";import"./chunk-XRXH52AL.js";import"./chunk-5I4ANEOW.js";import"./chunk-4CHXRQ3Z.js";import{a as h}from"./chunk-ZEHU2A57.js";import"./chunk-HVORON4Y.js";import"./chunk-TQWQFZO7.js";import"./chunk-ZBZRXBUQ.js";import{oa as n}from"./chunk-P74FXGQP.js";import{g as f}from"./chunk-MWLJ7KQD.js";import"./chunk-Z5C4ODF3.js";import"./chunk-NFASJCFR.js";import{Ob as r,Pb as d,Qb as p,ab as l,ac as c,ja as o,nb as m}from"./chunk-BJL3QR55.js";import"./chunk-4CLCTAJ7.js";var k=(()=>{let i=class i{constructor(){this.store=o(n),this.router=o(f),this.commission$=o(n).select(C.commission),this.tableConfig={columns:[{title:"order_id",dataField:"order_id"},{title:"store_name",dataField:"store_name"},{title:"admin_commission",dataField:"admin_commission",type:"price"},{title:"vendor_commission",dataField:"vendor_commission",type:"price"},{title:"created_at",dataField:"created_at",type:"date"}],data:[],total:0}}ngOnInit(){this.commission$.subscribe(t=>{let a=t?.data?.filter(e=>(e.store_name=`<span class="text-capitalize">${e.store.store_name}</span>`,e.order_id=`<span class="fw-bolder">#${e.order.order_number}</span>`,e));this.tableConfig.data=t?a:[],this.tableConfig.total=t?t?.total:0})}onTableChange(t){this.store.dispatch(new g(t))}};i.\u0275fac=function(a){return new(a||i)},i.\u0275cmp=m({type:i,selectors:[["app-commission"]],decls:2,vars:5,consts:[[3,"gridClass","title"],[3,"tableChanged","tableConfig","hasCheckbox","dateRange"]],template:function(a,e){a&1&&(d(0,"app-page-wrapper",0)(1,"app-table",1),c("tableChanged",function(_){return e.onTableChange(_)}),p()()),a&2&&(r("gridClass","col-sm-12")("title","commission_history"),l(),r("tableConfig",e.tableConfig)("hasCheckbox",!1)("dateRange",!0))},dependencies:[h,b],encapsulation:2});let s=i;return s})();export{k as Commission};
